---
//her henter vi data fra liste veiw så vi kan bruge det i vores card
const { data } = Astro.props;
---

<article>
  <!-- her sender  vi dataen vider til vores slug singleview for det ekelte card men klikker på -->
  <a class="card_a" href={`/sko/${data.slug}`}>
    <div class="produkt_card">
      <div class="produkttekst">
        <img class="produktbillede" src={"/img/listeveiw/" + data.produktimg} alt={"billede af " + data.produkt_beskrivelse} />

        {data.nyhed && <p class="nyhed">Nyhed</p>}
        {data.udsalg && <p class="udsalg" />}
        {data.udsolgt && <p class="udsolgt">Sold Out</p>}

        <div class="produktinfo">
          <h1 class="produktnavn card_h1">{data.produktnavn}</h1>
          <p class="beskrivelselist">{data.sko_variant}</p>
        </div>
        <div class="pris">
          {data.beforepris && <p class="before">Før pris: {data.beforepris} DKK</p>}

          <p>{data.price}</p>

          <p class="newprice">{data.afterpris} DKK</p>
        </div>
      </div>
      <a href="/kurv" class="kurv"></a>
    </div>
  </a>

  <style>
    .produkttekst {
      position: relative;
    }
    .udsalg {
      position: absolute;
      right: 0;
      bottom: 0;
      padding: 5px;
      text-transform: uppercase;
      z-index: 100;
    }

    .udsolgt::before {
      content: "";
      display: block;
      width: 100%;
      height: 100%;
      position: absolute;
      right: 0;
      bottom: 0;
      background: rgba(65, 63, 63, 0.6); /* White overlay with 50% opacity */
    }

    .udsolgt .produktbillede {
      opacity: 0.5;
    }

    .nyhed {
      position: absolute;
      top: 0;
      padding: 5px;
      text-transform: uppercase;
      z-index: 100;
    }
    .produktnavn {
      padding-top: 20px;
      font-weight: bold;
    }
    .produktbillede {
      width: 100%;
      height: 100%;
    }
    .kurv {
      width: 35px;
      height: 30px;
      position: absolute;
      right: 0;
      bottom: 1%;
      background-image: url(/img/kurv.svg);
      background-size: contain;
      background-repeat: no-repeat;
    }

    .kurv:hover {
      background-image: url(/img/kurv_filled.svg);
    }

    .produktinfo {
      flex-grow: 1;
      padding-bottom: 20px;
    }
    .pris {
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      align-items: flex-start;
      flex-grow: 1;
      position: relative;
    }

    article {
      display: flex;
      flex-direction: column;
      position: relative;
      min-width: 100px;
    }
    article a {
      text-decoration: none;
    }
    .produkt_card {
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    .before {
      text-decoration: line-through var(--orange600) 2px;
    }

    .beskrivelseslist {
      padding-top: -30px;
    }
  </style>
</article>
